\subsubsection{Phase 3}
\label{phase3}

In this phase the sequence $\left( \mathbf{MB}, \mathbf{MW}, \mathbf{X} \right)$ is generated. According to the reasoning in~\nameref{subsub:phasetwo} the game must either be in an unplayable state or be in a state such that one well is permanently closed and the other well has the appearance pictured in~\autoref{fig:openclosed}. The well that is not permanently closed can thus be in one of two possible states. For each case there is exactly one way of placing the block sequence such that this well is not also permanently closed. Placing the blocks in this way will clear 10 cells regardless of case.

\begin{figure}[H]
    \centering
    \begin{subfigure}[b]{0.8\textwidth}
        \resizebox{\linewidth}{!}{
            \begin{tikzpicture}
            \ptwoclosed{0}{0}
            \lummonoblack{1}{8}
            \draw[dashed] (0, 0) -- (0, 10);
            \draw[dashed] (5, 0) -- (5, 10);
            \draw[->, line width=5pt] (6, 5) -- (9, 5);
            \ptwoclosed{10}{0}
            \draw[dashed] (10, 0) -- (10, 10);
            \draw[dashed] (15, 0) -- (15, 10);
            \lummonowhite{11}{8}
            \draw[->, line width=5pt] (16, 5) -- (19, 5);
            \pthreeone{20}{0}
            \stopb{21}{8}
            \draw[dashed] (20, 0) -- (20, 10);
            \draw[dashed] (25, 0) -- (25, 10);
            \end{tikzpicture}
        }
        \caption{}
        \vspace*{1cm}
    \end{subfigure}

    \begin{subfigure}[b]{0.8\textwidth}
        \resizebox{\linewidth}{!}{
            \begin{tikzpicture}
            \ptwoopen{0}{0}
            \lummonoblack{2}{8}
            \draw[dashed] (0, 0) -- (0, 10);
            \draw[dashed] (5, 0) -- (5, 10);
            \draw[->, line width=5pt] (6, 5) -- (9, 5);
            \pthreeone{10}{0}
            \draw[dashed] (10, 0) -- (10, 10);
            \draw[dashed] (15, 0) -- (15, 10);
            \lummonowhite{11}{8}
            \draw[->, line width=5pt] (16, 5) -- (19, 5);
            \pthreeone{20}{0}
            \stopb{21}{8}
            \draw[dashed] (20, 0) -- (20, 10);
            \draw[dashed] (25, 0) -- (25, 10);
            \end{tikzpicture}
        }
        \caption{}
        \vspace*{1cm}
    \end{subfigure}

    \begin{subfigure}[b]{0.8\textwidth}
        \resizebox{\linewidth}{!}{
            \begin{tikzpicture}
            \ptwoopenspec{0}{0}
            \lummonoblack{2}{8}
            \draw[dashed] (0, 0) -- (0, 10);
            \draw[dashed] (5, 0) -- (5, 10);
            \draw[->, line width=5pt] (6, 5) -- (9, 5);
            \pthreeonespec{10}{0}
            \draw[dashed] (10, 0) -- (10, 10);
            \draw[dashed] (15, 0) -- (15, 10);
            \lummonowhite{11}{8}
            \draw[->, line width=5pt] (16, 5) -- (19, 5);
            \pthreeonespec{20}{0}
            \stopb{21}{8}
            \draw[dashed] (20, 0) -- (20, 10);
            \draw[dashed] (25, 0) -- (25, 10);
            \end{tikzpicture}
        }
        \caption{}
        \label{fig:placementc}
    \end{subfigure}

    \caption{Block placement in phase 3}
    \label{fig:placement}
\end{figure}

In \autoref{fig:placementc} we see the special case where the player has placed all $\mathbf{H}$ in the same well and then closed the it. This gameboard does not allow for an optimal clearing of cells. For a proof of this, please see Appendix \ref{specialcasereduction}. Because we know that this is not the solution we will ignore this for now.

At the end of this phase, at most $8a + \sum Q + 10$ cells have been cleared in total.
