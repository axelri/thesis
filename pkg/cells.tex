\input{pkg/blocks.tex}

\newcommand{\stripew}[2]
{
    \cellw{#1}{#2}
    \cellb{#1+1}{#2}
    \cellw{#1+2}{#2}
    \cellb{#1+3}{#2}
}

\newcommand{\stripeb}[2]
{
    \cellb{#1}{#2}
    \cellw{#1+1}{#2}
    \cellb{#1+2}{#2}
    \cellw{#1+3}{#2}
}

\newcommand{\wellbot}[2]
{
    \stripew{#1}{#2}
    \cellb{#1}{#2+1}
    \cellw{#1+1}{#2+1}
    \cellw{#1+2}{#2+1}
    \cellb{#1+3}{#2+1}
}

\newcommand{\toprow}[2]
{
    \cellb{#1}{#2}
    \cellw{#1+1}{#2}
    \cellb{#1+2}{#2}
    \cellb{#1+3}{#2}
}

\newcommand{\topblock}[2]
{
    \stripew{#1}{#2}
    \toprow{#1}{#2+1}
}

\newcommand{\welltop}[2]
{
    \topblock{#1}{#2}
    \topblock{#1}{#2+2}
}

\newcommand{\wellclosed}[2]
{
    \cellw{#1}{#2}
    \cellb{#1}{#2+1}
    \cellw{#1+3}{#2}
    \cellw{#1+3}{#2+1}
}

\newcommand{\wellopen}[2]
{
    \cellw{#1}{#2}
    \cellb{#1+1}{#2}
    \cellb{#1}{#2+1}
    \cellb{#1+1}{#2+1}
}

\newcommand{\welldefault}[2]
{
    \wellbot{#1}{#2}
    \draw[dotted] (#1+2, #2+2) -- (#1+2, #2+4);
    \welltop{#1}{#2+4}
    \wellclosed{#1}{#2+8}
}

\newcommand{\wellopenwhole}[2]
{
    \wellbot{#1}{#2}
    \draw[dotted] (#1+2, #2+2) -- (#1+2, #2+4);
    \welltop{#1}{#2+4}
    \wellopen{#1}{#2+8}
}

\newcommand{\welldetailed}[2]
{
    \wellbot{#1}{#2}
    \draw[dotted] (#1+2, #2+2) -- (#1+2, #2+4);
    \wellbot{#1}{#2+4}
    \topblock{#1}{#2+6}
    \draw[dotted] (#1+2, #2+8) -- (#1+2, #2+10);
    \welltop{#1}{#2+10}
    \wellclosed{#1}{#2+14}
}

\newcommand{\topclosed}[2]
{
    \draw[dotted] (#1+2, #2) -- (#1+2, #2+2);
    \welltop{#1}{#2+2}
    \wellclosed{#1}{#2+6}
}

\newcommand{\topopen}[2]
{
    \draw[dotted] (#1+2, #2) -- (#1+2, #2+2);
    \welltop{#1}{#2+2}
    \wellopen{#1}{#2+6}
}

\newcommand{\startb}[2]
{
    \cellb{#1}{#2}
    \cellw{#1+1}{#2}
    \cellb{#1}{#2+1}
    \cellw{#1+1}{#2+1}
}

\newcommand{\middleb}[2]
{
    \cellw{#1}{#2}
    \cellb{#1+1}{#2}
    \cellw{#1}{#2+1}
    \cellb{#1+1}{#2+1}
}

\newcommand{\ponemid}[2]
{
    \cellw{#1}{#2}
    \cellb{#1+1}{#2}
    \cellw{#1+2}{#2}
    \cellw{#1+3}{#2}
    \stripeb{#1}{#2+1}
}

\newcommand{\invariantchart}[2]
{
    \wellbot{#1}{#2}
    \draw[dotted] (#1+2, #2+2) -- (#1+2, #2+4);
    \wellbot{#1}{#2+4}
    \topblock{#1}{#2+6}
    \draw[dotted] (#1+2, #2+8) -- (#1+2, #2+10);
    \topblock{#1}{#2+10}
    \ponemid{#1}{#2+12}
    \draw[dotted] (#1+2, #2+14) -- (#1+2, #2+16);
    \ponemid{#1}{#2+16}
    \ponemid{#1}{#2+18}
    \wellclosed{#1}{#2+20}
}

\newcommand{\stopb}[2]
{
    \cellw{#1}{#2}
    \cellb{#1+1}{#2}
    \cellb{#1}{#2+1}
    \cellw{#1+1}{#2+1}
}

\newcommand{\ptwoopen}[2]
{
    \draw[dotted] (#1+2, #2) -- (#1+2, #2+2);
    \ponemid{#1}{#2+2}
    \ponemid{#1}{#2+4}
    \wellopen{#1}{#2+6}
}

\newcommand{\ptwoclosed}[2]
{
    \draw[dotted] (#1+2, #2) -- (#1+2, #2+2);
    \ponemid{#1}{#2+2}
    \ponemid{#1}{#2+4}
    \wellclosed{#1}{#2+6}
}

\newcommand{\pthreeone}[2]
{
    \draw[dotted] (#1+2, #2) -- (#1+2, #2+2);
    \ponemid{#1}{#2+2}
    \ponemid{#1}{#2+4}
    \cellw{#1}{#2+6}
    \cellb{#1}{#2+7}
}

\newcommand{\checkbox}[2]
{
    \stripew{#1}{#2}
    \stripeb{#1}{#2+1}
}

\newcommand{\wellblocked}[2]
{
    \cellw{#1}{#2}
    \cellb{#1+1}{#2}
    \cellw{#1+2}{#2}
    \cellb{#1}{#2+1}
    \cellw{#1+1}{#2+1}
    \cellb{#1+2}{#2+1}
}

\newcommand{\beforecollapse}[2]
{
    \wellbot{#1}{#2}
    \draw[dotted] (#1+2, #2+2) -- (#1+2, #2+4);
    \wellbot{#1}{#2+4}
    \ponemid{#1}{#2+6}
    \draw[dotted] (#1+2, #2+8) -- (#1+2, #2+10);
    \ponemid{#1}{#2+10}
    \checkbox{#1}{#2+12}
    \draw[dotted] (#1+2, #2+14) -- (#1+2, #2+16);
    \checkbox{#1}{#2+16}
    \checkbox{#1}{#2+18}
    \wellblocked{#1}{#2+20}
}

\newcommand{\collapsepre}[2]
{
    \wellbot{#1}{#2}
    \draw[dotted] (#1+2, #2+2) -- (#1+2, #2+4);
    \checkbox{#1}{#2+4}
    \checkbox{#1}{#2+6}
    \cellr{#1+2}{#2+4}
    \cellr{#1+3}{#2+4}
    \cellr{#1+2}{#2+5}
    \cellr{#1+3}{#2+5}
    \cellr{#1+2}{#2+6}
    \cellr{#1+3}{#2+6}
    \draw[dotted] (#1+2, #2+8) -- (#1+2, #2+10);
    \checkbox{#1}{#2+10}
    \checkbox{#1}{#2+12}
    \draw[dotted] (#1+2, #2+14) -- (#1+2, #2+16);
    \checkbox{#1}{#2+16}
    \checkbox{#1}{#2+18}
    \wellblocked{#1}{#2+20}
}

\newcommand{\collapsemid}[2]
{
    \cellw{#1}{#2}
    \cellb{#1+1}{#2}
    \cellb{#1+2}{#2}
    \cellw{#1+3}{#2}

    \cellb{#1}{#2+1}
    \cellw{#1+1}{#2+1}
    \cellw{#1+2}{#2+1}
    \cellw{#1+3}{#2+1}
}

\newcommand{\collapsetop}[2]
{
    \cellw{#1}{#2}
    \cellb{#1+1}{#2}
    \cellb{#1+2}{#2}
    \cellw{#1+3}{#2}

    \cellb{#1}{#2+1}
    \cellw{#1+1}{#2+1}
    \cellw{#1+2}{#2+1}
    \cellb{#1+3}{#2+1}
}

\newcommand{\collapsehat}[2]
{
    \cellw{#1}{#2}
    \cellb{#1+1}{#2}
    \cellb{#1+2}{#2}
    \cellw{#1+3}{#2}

    \cellb{#1}{#2+1}
    \cellw{#1+1}{#2+1}
    \cellw{#1+2}{#2+1}

    \cellw{#1}{#2+2}
    \cellb{#1+1}{#2+2}
    \cellb{#1+2}{#2+2}

    \cellb{#1}{#2+3}
    \cellw{#1+1}{#2+3}

    \cellw{#1}{#2+4}
    \cellb{#1+1}{#2+4}

    \cellb{#1}{#2+5}
    \cellw{#1+1}{#2+5}
}

\newcommand{\collapsesmallhat}[2]
{
    \cellw{#1}{#2}
    \cellb{#1+1}{#2}
    \cellb{#1+2}{#2}
    \cellw{#1+3}{#2}

    \cellb{#1}{#2+1}
    \cellw{#1+1}{#2+1}
    \cellw{#1+2}{#2+1}

    \cellw{#1}{#2+2}
    \cellb{#1+1}{#2+2}
    \cellb{#1+2}{#2+2}
}

\newcommand{\collapsepost}[2]
{
    \wellbot{#1}{#2}
    \draw[dotted] (#1+2, #2+2) -- (#1+2, #2+4);
    \collapsemid{#1}{#2+4}
    \collapsemid{#1}{#2+6}
    \draw[dotted] (#1+2, #2+8) -- (#1+2, #2+10);
    \collapsetop{#1}{#2+10}
    \collapsetop{#1}{#2+12}
    \draw[dotted] (#1+2, #2+14) -- (#1+2, #2+16);
    \collapsehat{#1}{#2+16}
}

\newcommand{\collapselast}[2]
{
    \wellbot{#1}{#2}
    \draw[dotted] (#1+2, #2+2) -- (#1+2, #2+4);
    \wellbot{#1}{#2+4}
    \collapsemid{#1}{#2+6}
    \draw[dotted] (#1+2, #2+8) -- (#1+2, #2+10);
    \collapsemid{#1}{#2+10}
    \collapsetop{#1}{#2+12}
    \draw[dotted] (#1+2, #2+14) -- (#1+2, #2+16);
    \collapsesmallhat{#1}{#2+16}
    \lumx{#1}{#2+19}
    \draw[dotted] (#1+1, #2+21) -- (#1+1, #2+23);
    \lumx{#1}{#2+23}
}

\newcommand{\allplaced}[2]
{
    \wellbot{#1}{#2}
    \draw[dotted] (#1+2, #2+2) -- (#1+2, #2+4);
    \wellbot{#1}{#2+4}
    \collapsetop{#1}{#2+6}
    \draw[dotted] (#1+2, #2+8) -- (#1+2, #2+10);
    \collapsesmallhat{#1}{#2+10}
    \lumx{#1}{#2+13}
    \draw[dotted] (#1+1, #2+15) -- (#1+1, #2+17);
    \lumx{#1}{#2+17}
}

\newcommand{\specialboard}[2] {
    \draw (#1, #2) -- (#1+2, #2+2);
    \draw (#1, #2) -- (#1, #2+1);
    \draw (#1+2, #2) -- (#1+2, #2+1);
}
